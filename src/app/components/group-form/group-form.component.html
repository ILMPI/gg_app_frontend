<div class="container">
    <div class="row">
        <form class="details-form"  [formGroup]="modelForm" (ngSubmit)="saveFormData()">
            @if (isEmptyForm){
                <div class='details-form__top ' >Crear grupo</div>
                
            }@else {
                <div class='details-form__top' >Actualiza los datos de tu grupo</div>
            }
                             

                <div class="container">
                    <div class="row">
                        <div class="col-2 ">
                            <!--p-fileUpload 
                            mode="basic" 
                            name="demo[]" 
                            chooseIcon="pi pi-upload" 
                            accept="image/*" maxFileSize="1000000" 
                            
                            [auto]="true" 
                            chooseLabel="Imagen del grupo" /-->
                        </div>
                        <div class="col-10 ">
                                      
                                <label for="name"  class="details-form__form-field__label">Nombre del grupo</label>
                                <input 
                                    pInputText  class="details-form__form-field__input" 
                                    id="name" 
                                    formControlName="name"/>
                                                      
                                    @if (validateField('name', 'required')){
                                        <small id="name-help"  class="details-form__form-field__smalllabel error">
                                            * Obligatorio
                                        </small>
                               
                                    }
                        </div>
                    </div>
                
                    <div class="details-form__row ">
                        <div  class='details-form__form-field ' >
                                <label for="description" class="details-form__form-field__label" >Descripci√≥n</label>
                                <input 
                                    pInputText class="details-form__form-field__input"  
                                    id="description" 
                                    formControlName="description"/>
                                   

                                    @if (validateField('description', 'required')){
                                        <small id="description-help"  class="details-form__form-field__smalllabel error">
                                            * Obligatorio
                                        </small>
                                    }
                        </div>
                    </div>
                    @if (!isEmptyForm){
                        <div class="details-form__row ">
                            <div  class='details-form__form-field ' >
                                    <label for="description" class="details-form__form-field__label" >Listado de participantes</label>
                                    <!--p-table [value]="products" [tableStyle]="{'min-width': '60rem'}">
                                        <ng-template pTemplate="caption">
                                            <div class="flex align-items-center justify-content-between">
                                                Products
                                                <p-button icon="pi pi-refresh" />
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>Name</th>
                                                <th>Image</th>
                                                <th>Price</th>
                                                <th>Category</th>
                                                <th>Reviews</th>
                                                <th>Status</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-product>
                                            <tr>
                                                <td>{{product.name}}</td>
                                                <td><img [src]="'https://primefaces.org/cdn/primeng/images/demo/product/' + product.image" [alt]="product.name" width="100" class="shadow-4" /></td>
                                                <td>{{product.price | currency:'USD'}}</td>
                                                <td>{{product.category}}</td>
                                                <td><p-rating [(ngModel)]="product.rating" [readonly]="true" [cancel]="false" /></td>
                                                <td><p-tag [value]="product.inventoryStatus" [severity]="getSeverity(product.inventoryStatus)" /></td>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="summary">
                                            <div class="flex align-items-center justify-content-between">
                                                In total there are {{products ? products.length : 0 }} products.
                                            </div>
                                        </ng-template>
                                    </!--p-table>-->
                                    
                            </div>
                        </div>

                    }

                    <div  class="details-form__submit"  > <button mat-flat-button color="primary" [disabled]="modelForm.invalid" >Guardar</button></div>
                   
                </div>             
                              
           
            
                  
        </form>
    </div>
</div>
